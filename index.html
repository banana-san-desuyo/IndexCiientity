<script>

const levelLimits = {
    1: 20000,
    2: 10000,
    3: 5000,
    4: 1000,
    5: 100
};

const generatedCount = {
    1: 0,
    2: 0,
    3: 0,
    4: 0,
    5: 0
};

function random(min,max){
    return Math.floor(Math.random()*(max-min+1))+min;
}

function pick(arr){
    return arr[Math.floor(Math.random()*arr.length)];
}

const themes = [
    "無限回廊型空間歪曲",
    "閉鎖循環住宅空間",
    "局所重力崩壊現象",
    "視界認識阻害波動",
    "時間遅延区画",
    "自己増殖未知物質",
    "模倣型人型存在"
];

const statuses = ["Active","Dormant","Archived","Sealed"];

function generateEntity(){

    const level = document.getElementById("level").value;

    if(generatedCount[level] >= levelLimits[level]){
        alert("このLvの生成上限に達している");
        return;
    }

    generatedCount[level]++;

    const number = String(random(1,9999)).padStart(4,"0");
    const theme = pick(themes);
    const status = pick(statuses);

    let text = 
`CII/CL/File-${number}
Classification: Entity-${number}
ACCESS: Lv.${level}
Status: ${status}
─────
■ 概要
─────
Entity-${number}は${theme}として分類される。
発生地点は固定されず、断続的に観測報告が提出されている。
内部構造または発生源は未特定であり、完全な再現実験は成功していない。
現時点では観測優先対象とされる。
─────
■ 観測記録
─────
初期報告では空間的整合性の破綻が確認された。
距離測定値と実移動距離に差異が生じる。
録画記録には断続的な信号欠損が発生。
複数職員が軽度の方向感覚喪失を報告。
─────
■ 被害状況
─────
現段階での死者報告は無し。
長時間曝露時に精神圧迫、軽度混乱症状が発生。
Lv.${level}基準に照らし影響範囲は限定的と判断。
─────
■ 分類経緯
─────
初期は暫定分類。
影響範囲拡大の報告により再評価。
危険指数算定後、Lv.${level}に正式指定。
─────
■ 補足
─────
自然発生型か外的誘発型かは未確定。
継続観測中。
─────
■ CORE審議履歴（該当時）
─────
該当無し。
────────────────`;

    document.getElementById("output").value = text;
}

</script>
